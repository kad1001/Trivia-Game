<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- css -->
    <link rel="stylesheet" href="assets/css/style.css">
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- javascript -->
    <script src="assets/javascript/app.js"></script>
    <!-- bootstrap js -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
    <title>Jeopardy</title>
</head>
<body>
<h1>Welcome to Jeopardy!</h1>


<div class="container" id="quiz">

        <table class="table">
                <thead>
                    <!-- questions row -->
                  <tr id="sciRow">
                    <!-- The scope attribute specifies that this is a header for a column -->
                    <th scope="col">Science</th>
                    <th scope="col">Computers</th>
                    <th scope="col">Film</th>
                  </tr>

                </thead>
                <tbody id="questionsBody">
                    <!-- multiple choice option, tell correct answer (change font to correct question -> bold) -->
                    <!--$1000 questions  -->
                    <tr>
                    <td id="easySciQ"> $1000</td>
                    <td id="easyCompQ"> $1000</td>
                    <td id="easyEntQ"> $1000</td>
                  </tr>
                  <!-- $2000 -->
                  <tr>
                        <td id="medSciQ"> $2000</td>
                        <td id="medCompQ"> $2000</td>
                        <td id="medEntQ"> $2000</td>
                    </tr>
                    <!-- $3000 -->
                    <tr>
                            <td id="hardSciQ"> $3000</td>
                            <td id="hardEntQ"> $3000</td>
                            <td id="hardCompQ"> $3000</td>
                        </tr>


                  <!-- Insert additional rows here -->
                </tbody>
              </table>


</div>

<div class="container">
    <div id="results">Here is where the money sum will go</div>
</div>


        <div><p><span id="time"></span></p></div>




 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
  // The below code fills in the first row of the table

  //   get 1 easy science question
  var EasySciQueryURL = "https://opentdb.com/api.php?amount=1&category=17&difficulty=easy&type=multiple";


  $.ajax({
    url: EasySciQueryURL,
    method: "GET"
  }).then(function(response) {
    function shuffle(array) {
            var currentIndex = array.length, temporaryValue, randomIndex;
            // While there remain elements to shuffle...
            while (0 !== currentIndex) {
                // Pick a remaining element...
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex -= 1;
                // And swap it with the current element.
                temporaryValue = array[currentIndex];
                array[currentIndex] = array[randomIndex];
                array[randomIndex] = temporaryValue;
            }
            return array;
            }


    // Create a new table row element
    var sciRow = $("#sciRow");
    var question = response.results[0].question;
    var correct_answer = response.results[0].correct_answer;
    var incorrect_answers = response.results[0].incorrect_answers;

    // make data visible on click
    $("#easySciQ").click(function() {
        sciRow.append(question, correct_answer, incorrect_answers);

        // replace the money value with these variables
        $("#sciRow").text(question);

        // answers can be accessed in answers array
        const answers = [correct_answer + incorrect_answers];

            // shuffled answers in arr array
            var arr = [incorrect_answers[0], incorrect_answers[1], incorrect_answers[2], correct_answer];
            arr = shuffle(arr);
            console.log(arr);

            // making each question accessible through a variable
            // function addElement(arr) {
            //     var newButton = document.createElement("button");
            //     var newContent = document.createTextNode("Hello there!");
            //     newButton.appendChild(newContent);
            //     var currentDiv = document.getElementById("easySciQ");
            //     document.body.insertBefore(newButton, currentDiv);

            // }
 
            // create buttons for each string in arr -- each shuffled question
            // var btn1 = document.createElement("button");
            // var btn2 = document.createElement("button");
            // var btn3 = document.createElement("button");
            // var btn4 = document.createElement("button");

            // object - oriented 
            // display arr in body, append each with a button
            $("#easySciQ").text(arr);
            // $("#medSciQ").text(q2).append(btn2).addClass("button");
            // $("#easyCompQ").text(q3).append(btn3).addClass("button");
            // $("#medCompQ").text(q4).append(btn4).addClass("button");

            // Call .filter() on arr to find correct_answer and hold it in "correct"
            const correct = arr.filter(answers => {
            return answers == correct_answer
            });

            // functions for passing values into other questions etc

            class answersObj {
                // constructor() method accepts 2 parameters: question and arr
                constructor(question, arr) {
                // holds current question, answers
                this.question = question;
                this.arr = arr;
                }
            }
            
            // var me stores an instance of my question class
            const me = new answersObj(correct);
            console.log(me.question)

            // const yes = arr.forEach(arr => {

            // var newButton = document.createElement("button");
            // var newContent = document.createTextNode("Hi there");
            // newButton.appendChild(newContent);
            // });

            // console.log(yes)


            // correct_answer class="correct"
            // add class to correct_answer:
  
            // add event listeners for the buttons
            // correct_answer.addEventListener("click", function(){ alert("Hello World!"); });

        // function for when user clicks on an answer in DOM

        });
    });

    //   get 1 medium science question
    var MedSciQueryURL = "https://opentdb.com/api.php?amount=1&category=17&difficulty=easy&type=multiple";

    $.ajax({
    url: MedSciQueryURL,
    method: "GET"
  }).then(function(response) {
    // Create a new table row element
    var sciRow = $("#sciRow");
    var question = response.results[0].question;
    var correct_answer = response.results[0].correct_answer;
    var incorrect_answers = response.results[0].incorrect_answers;
    function shuffle(array) {
            var currentIndex = array.length, temporaryValue, randomIndex;
            // While there remain elements to shuffle...
            while (0 !== currentIndex) {
                // Pick a remaining element...
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex -= 1;
                // And swap it with the current element.
                temporaryValue = array[currentIndex];
                array[currentIndex] = array[randomIndex];
                array[randomIndex] = temporaryValue;
            }
            return array;
            }

    // make data visible on click
    $("#medSciQ").click(function() {
        sciRow.append(question, correct_answer, incorrect_answers);

        // replace the money value with these variables
        $("#sciRow").text(question);

        // answers can be accessed in answers array
        const answers = [correct_answer + incorrect_answers];

        // shuffling the order of answers in the answers array
            var arr = [incorrect_answers[0], incorrect_answers[1], incorrect_answers[2], correct_answer];
            arr = shuffle(arr);
            console.log(arr);

            // display arr in body
            $("#easySciQ").text(arr);
            // $("#medSciQ").text(q2).append(btn2).addClass("button");
            // $("#easyCompQ").text(q3).append(btn3).addClass("button");
            // $("#medCompQ").text(q4).append(btn4).addClass("button");

            // Call .filter() on arr to find correct_answer and hold it in "correct"
            const correct = arr.filter(answers => {
            return answers == correct_answer
            });

            // functions for passing values into other questions etc
            class answersObj {
                // constructor() method accepts 2 parameters: question and arr
                constructor(question, arr) {
                // holds current question, answers
                this.question = question;
                this.arr = arr;
                }
            }
            
            // var me stores an instance of my question class
            const me = new answersObj(correct);
            console.log(me.question)
        });
    })


    // get 1 hard science question
    var HardSciQueryURL = "https://opentdb.com/api.php?amount=1&category=17&difficulty=hard&type=multiple";

    // // get 1 easy computers

    // var EasyCompQueryURL = "https://opentdb.com/api.php?amount=1&category=18&difficulty=easy&type=multiple";

    // // get 1 medium computers
    // var MedCompQueryURL = "https://opentdb.com/api.php?amount=1&category=18&difficulty=medium&type=multiple";
    // // get 1 hard computers
    // var HardCompQueryURL = "https://opentdb.com/api.php?amount=1&category=18&difficulty=hard&type=multiple";

    // // get 1 easy ent

    // var EasyEntQueryURL = "https://opentdb.com/api.php?amount=1&category=11&difficulty=easy&type=multiple";

    // // get 1 medium ent

    // var MedEntQueryURL = "https://opentdb.com/api.php?amount=1&category=11&difficulty=medium&type=multiple";

    // // get 1 hard ent

    // var HardEntQueryURL = "https://opentdb.com/api.php?amount=1&category=11&difficulty=hard&type=multiple";


</script>

</body>
// <script>

//     var seconds = 15,
//         display = document.querySelector('#time');
//     startTimer(seconds, display);

// function startTimer(duration, display) {
//     var timer = duration, minutes, seconds;
//     setInterval(function () {
//         minutes = parseInt(timer / 60, 10)
//         seconds = parseInt(timer % 60, 10);

//         minutes = minutes < 10 ? "0" + minutes : minutes;
//         seconds = seconds < 10 ? "0" + seconds : seconds;

//         display.textContent = minutes + ":" + seconds;

//         if (--timer < 0) {
//             timer = duration;
//         }
//     }, 1000);

// </script>

</html>